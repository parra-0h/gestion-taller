"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/works";
exports.ids = ["pages/api/works"];
exports.modules = {

/***/ "pg":
/*!*********************!*\
  !*** external "pg" ***!
  \*********************/
/***/ ((module) => {

module.exports = import("pg");;

/***/ }),

/***/ "(api)/./lib/db.ts":
/*!*******************!*\
  !*** ./lib/db.ts ***!
  \*******************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var pg__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! pg */ \"pg\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([pg__WEBPACK_IMPORTED_MODULE_0__]);\npg__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\nconst pool = new pg__WEBPACK_IMPORTED_MODULE_0__.Pool({\n    user: \"taller_user\",\n    host: \"localhost\",\n    database: \"taller_mecanico\",\n    password: \"password\",\n    port: 5432\n});\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (pool);\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9saWIvZGIudHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBMEI7QUFFMUIsTUFBTUMsSUFBSSxHQUFHLElBQUlELG9DQUFJLENBQUM7SUFDbEJFLElBQUksRUFBRSxhQUFhO0lBQ25CQyxJQUFJLEVBQUUsV0FBVztJQUNqQkMsUUFBUSxFQUFFLGlCQUFpQjtJQUMzQkMsUUFBUSxFQUFFLFVBQVU7SUFDcEJDLElBQUksRUFBRSxJQUFJO0NBQ2IsQ0FBQztBQUVGLGlFQUFlTCxJQUFJLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9pbmFjYXAtcHJveWVjdG8vLi9saWIvZGIudHM/MWRmMCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQb29sIH0gZnJvbSAncGcnO1xuXG5jb25zdCBwb29sID0gbmV3IFBvb2woe1xuICAgIHVzZXI6ICd0YWxsZXJfdXNlcicsXG4gICAgaG9zdDogJ2xvY2FsaG9zdCcsXG4gICAgZGF0YWJhc2U6ICd0YWxsZXJfbWVjYW5pY28nLFxuICAgIHBhc3N3b3JkOiAncGFzc3dvcmQnLFxuICAgIHBvcnQ6IDU0MzIsXG59KTtcblxuZXhwb3J0IGRlZmF1bHQgcG9vbDtcbiJdLCJuYW1lcyI6WyJQb29sIiwicG9vbCIsInVzZXIiLCJob3N0IiwiZGF0YWJhc2UiLCJwYXNzd29yZCIsInBvcnQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./lib/db.ts\n");

/***/ }),

/***/ "(api)/./pages/api/works/index.ts":
/*!**********************************!*\
  !*** ./pages/api/works/index.ts ***!
  \**********************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var _lib_db__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/lib/db */ \"(api)/./lib/db.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_lib_db__WEBPACK_IMPORTED_MODULE_0__]);\n_lib_db__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\nasync function handler(req, res) {\n    if (req.method === \"POST\") {\n        // Assign work to a vehicle\n        try {\n            const { vehicle_id , description , assigned_bay  } = req.body;\n            // Start transaction\n            const client = await _lib_db__WEBPACK_IMPORTED_MODULE_0__[\"default\"].connect();\n            try {\n                await client.query(\"BEGIN\");\n                // Create work\n                const insertWork = `\n          INSERT INTO works (vehicle_id, description, assigned_bay, status)\n          VALUES ($1, $2, $3, 'pending')\n          RETURNING *\n        `;\n                const workResult = await client.query(insertWork, [\n                    vehicle_id,\n                    description,\n                    assigned_bay\n                ]);\n                // Update vehicle status\n                const updateVehicle = `\n          UPDATE vehicles SET status = 'working' WHERE id = $1\n        `;\n                await client.query(updateVehicle, [\n                    vehicle_id\n                ]);\n                await client.query(\"COMMIT\");\n                res.status(201).json(workResult.rows[0]);\n            } catch (e) {\n                await client.query(\"ROLLBACK\");\n                throw e;\n            } finally{\n                client.release();\n            }\n        } catch (error) {\n            console.error(error);\n            res.status(500).json({\n                error: \"Database error\"\n            });\n        }\n    } else if (req.method === \"GET\") {\n        // Get works (optionally filter by bay)\n        try {\n            const { bay  } = req.query;\n            let query = `\n        SELECT w.*, v.plate, v.model \n        FROM works w \n        JOIN vehicles v ON w.vehicle_id = v.id\n      `;\n            const params = [];\n            if (bay) {\n                query += \" WHERE w.assigned_bay = $1 AND w.status != 'done'\";\n                params.push(bay);\n            }\n            const { rows  } = await _lib_db__WEBPACK_IMPORTED_MODULE_0__[\"default\"].query(query, params);\n            res.status(200).json(rows);\n        } catch (error1) {\n            console.error(error1);\n            res.status(500).json({\n                error: \"Database error\"\n            });\n        }\n    } else if (req.method === \"PUT\") {\n        // Update work status\n        try {\n            const { id , status  } = req.body;\n            const query1 = \"UPDATE works SET status = $1 WHERE id = $2 RETURNING *\";\n            const { rows: rows1  } = await _lib_db__WEBPACK_IMPORTED_MODULE_0__[\"default\"].query(query1, [\n                status,\n                id\n            ]);\n            if (status === \"done\" && rows1.length > 0) {\n                // Optionally update vehicle status to completed if all works are done?\n                // For simplicity, let's just mark the work as done.\n                // Maybe update vehicle to 'completed'?\n                const vehicleId = rows1[0].vehicle_id;\n                await _lib_db__WEBPACK_IMPORTED_MODULE_0__[\"default\"].query(\"UPDATE vehicles SET status = 'completed' WHERE id = $1\", [\n                    vehicleId\n                ]);\n            }\n            res.status(200).json(rows1[0]);\n        } catch (error2) {\n            console.error(error2);\n            res.status(500).json({\n                error: \"Database error\"\n            });\n        }\n    } else {\n        res.setHeader(\"Allow\", [\n            \"GET\",\n            \"POST\",\n            \"PUT\"\n        ]);\n        res.status(405).end(`Method ${req.method} Not Allowed`);\n    }\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQztJQUM1RCxDQUFDO0FBQ0wsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2luYWNhcC1wcm95ZWN0by8uL3BhZ2VzL2FwaS93b3Jrcy9pbmRleC50cz8zMDQ5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB0eXBlIHsgTmV4dEFwaVJlcXVlc3QsIE5leHRBcGlSZXNwb25zZSB9IGZyb20gJ25leHQnO1xuaW1wb3J0IHBvb2wgZnJvbSAnQC9saWIvZGInO1xuXG5leHBvcnQgZGVmYXVsdCBhc3luYyBmdW5jdGlvbiBoYW5kbGVyKFxuICAgIHJlcTogTmV4dEFwaVJlcXVlc3QsXG4gICAgcmVzOiBOZXh0QXBpUmVzcG9uc2Vcbikge1xuICAgIGlmIChyZXEubWV0aG9kID09PSAnUE9TVCcpIHtcbiAgICAgICAgLy8gQXNzaWduIHdvcmsgdG8gYSB2ZWhpY2xlXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCB7IHZlaGljbGVfaWQsIGRlc2NyaXB0aW9uLCBhc3NpZ25lZF9iYXkgfSA9IHJlcS5ib2R5O1xuXG4gICAgICAgICAgICAvLyBTdGFydCB0cmFuc2FjdGlvblxuICAgICAgICAgICAgY29uc3QgY2xpZW50ID0gYXdhaXQgcG9vbC5jb25uZWN0KCk7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGF3YWl0IGNsaWVudC5xdWVyeSgnQkVHSU4nKTtcblxuICAgICAgICAgICAgICAgIC8vIENyZWF0ZSB3b3JrXG4gICAgICAgICAgICAgICAgY29uc3QgaW5zZXJ0V29yayA9IGBcbiAgICAgICAgICBJTlNFUlQgSU5UTyB3b3JrcyAodmVoaWNsZV9pZCwgZGVzY3JpcHRpb24sIGFzc2lnbmVkX2JheSwgc3RhdHVzKVxuICAgICAgICAgIFZBTFVFUyAoJDEsICQyLCAkMywgJ3BlbmRpbmcnKVxuICAgICAgICAgIFJFVFVSTklORyAqXG4gICAgICAgIGA7XG4gICAgICAgICAgICAgICAgY29uc3Qgd29ya1Jlc3VsdCA9IGF3YWl0IGNsaWVudC5xdWVyeShpbnNlcnRXb3JrLCBbdmVoaWNsZV9pZCwgZGVzY3JpcHRpb24sIGFzc2lnbmVkX2JheV0pO1xuXG4gICAgICAgICAgICAgICAgLy8gVXBkYXRlIHZlaGljbGUgc3RhdHVzXG4gICAgICAgICAgICAgICAgY29uc3QgdXBkYXRlVmVoaWNsZSA9IGBcbiAgICAgICAgICBVUERBVEUgdmVoaWNsZXMgU0VUIHN0YXR1cyA9ICd3b3JraW5nJyBXSEVSRSBpZCA9ICQxXG4gICAgICAgIGA7XG4gICAgICAgICAgICAgICAgYXdhaXQgY2xpZW50LnF1ZXJ5KHVwZGF0ZVZlaGljbGUsIFt2ZWhpY2xlX2lkXSk7XG5cbiAgICAgICAgICAgICAgICBhd2FpdCBjbGllbnQucXVlcnkoJ0NPTU1JVCcpO1xuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAxKS5qc29uKHdvcmtSZXN1bHQucm93c1swXSk7XG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgYXdhaXQgY2xpZW50LnF1ZXJ5KCdST0xMQkFDSycpO1xuICAgICAgICAgICAgICAgIHRocm93IGU7XG4gICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgIGNsaWVudC5yZWxlYXNlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgZXJyb3I6ICdEYXRhYmFzZSBlcnJvcicgfSk7XG4gICAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHJlcS5tZXRob2QgPT09ICdHRVQnKSB7XG4gICAgICAgIC8vIEdldCB3b3JrcyAob3B0aW9uYWxseSBmaWx0ZXIgYnkgYmF5KVxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgeyBiYXkgfSA9IHJlcS5xdWVyeTtcbiAgICAgICAgICAgIGxldCBxdWVyeSA9IGBcbiAgICAgICAgU0VMRUNUIHcuKiwgdi5wbGF0ZSwgdi5tb2RlbCBcbiAgICAgICAgRlJPTSB3b3JrcyB3IFxuICAgICAgICBKT0lOIHZlaGljbGVzIHYgT04gdy52ZWhpY2xlX2lkID0gdi5pZFxuICAgICAgYDtcbiAgICAgICAgICAgIGNvbnN0IHBhcmFtcyA9IFtdO1xuXG4gICAgICAgICAgICBpZiAoYmF5KSB7XG4gICAgICAgICAgICAgICAgcXVlcnkgKz0gJyBXSEVSRSB3LmFzc2lnbmVkX2JheSA9ICQxIEFORCB3LnN0YXR1cyAhPSBcXCdkb25lXFwnJztcbiAgICAgICAgICAgICAgICBwYXJhbXMucHVzaChiYXkpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCB7IHJvd3MgfSA9IGF3YWl0IHBvb2wucXVlcnkocXVlcnksIHBhcmFtcyk7XG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbihyb3dzKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBlcnJvcjogJ0RhdGFiYXNlIGVycm9yJyB9KTtcbiAgICAgICAgfVxuICAgIH0gZWxzZSBpZiAocmVxLm1ldGhvZCA9PT0gJ1BVVCcpIHtcbiAgICAgICAgLy8gVXBkYXRlIHdvcmsgc3RhdHVzXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCB7IGlkLCBzdGF0dXMgfSA9IHJlcS5ib2R5O1xuICAgICAgICAgICAgY29uc3QgcXVlcnkgPSAnVVBEQVRFIHdvcmtzIFNFVCBzdGF0dXMgPSAkMSBXSEVSRSBpZCA9ICQyIFJFVFVSTklORyAqJztcbiAgICAgICAgICAgIGNvbnN0IHsgcm93cyB9ID0gYXdhaXQgcG9vbC5xdWVyeShxdWVyeSwgW3N0YXR1cywgaWRdKTtcblxuICAgICAgICAgICAgaWYgKHN0YXR1cyA9PT0gJ2RvbmUnICYmIHJvd3MubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIC8vIE9wdGlvbmFsbHkgdXBkYXRlIHZlaGljbGUgc3RhdHVzIHRvIGNvbXBsZXRlZCBpZiBhbGwgd29ya3MgYXJlIGRvbmU/XG4gICAgICAgICAgICAgICAgLy8gRm9yIHNpbXBsaWNpdHksIGxldCdzIGp1c3QgbWFyayB0aGUgd29yayBhcyBkb25lLlxuICAgICAgICAgICAgICAgIC8vIE1heWJlIHVwZGF0ZSB2ZWhpY2xlIHRvICdjb21wbGV0ZWQnP1xuICAgICAgICAgICAgICAgIGNvbnN0IHZlaGljbGVJZCA9IHJvd3NbMF0udmVoaWNsZV9pZDtcbiAgICAgICAgICAgICAgICBhd2FpdCBwb29sLnF1ZXJ5KFwiVVBEQVRFIHZlaGljbGVzIFNFVCBzdGF0dXMgPSAnY29tcGxldGVkJyBXSEVSRSBpZCA9ICQxXCIsIFt2ZWhpY2xlSWRdKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24ocm93c1swXSk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgZXJyb3I6ICdEYXRhYmFzZSBlcnJvcicgfSk7XG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgICByZXMuc2V0SGVhZGVyKCdBbGxvdycsIFsnR0VUJywgJ1BPU1QnLCAnUFVUJ10pO1xuICAgICAgICByZXMuc3RhdHVzKDQwNSkuZW5kKGBNZXRob2QgJHtyZXEubWV0aG9kfSBOb3QgQWxsb3dlZGApO1xuICAgIH1cbn1cbiJdLCJuYW1lcyI6WyJwb29sIiwiaGFuZGxlciIsInJlcSIsInJlcyIsIm1ldGhvZCIsInZlaGljbGVfaWQiLCJkZXNjcmlwdGlvbiIsImFzc2lnbmVkX2JheSIsImJvZHkiLCJjbGllbnQiLCJjb25uZWN0IiwicXVlcnkiLCJpbnNlcnRXb3JrIiwid29ya1Jlc3VsdCIsInVwZGF0ZVZlaGljbGUiLCJzdGF0dXMiLCJqc29uIiwicm93cyIsImUiLCJyZWxlYXNlIiwiZXJyb3IiLCJjb25zb2xlIiwiYmF5IiwicGFyYW1zIiwicHVzaCIsImlkIiwibGVuZ3RoIiwidmVoaWNsZUlkIiwic2V0SGVhZGVyIiwiZW5kIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./pages/api/works/index.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = (__webpack_exec__("(api)/./pages/api/works/index.ts"));
module.exports = __webpack_exports__;

})();